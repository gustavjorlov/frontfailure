name: Unit Tests

on: [pull_request]

jobs:
  run_tests:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v1
      - name: Install dependencies
        run: yarn install
      - name: Run tests
        run: npm run test:nowatch
  notify_slack:
    runs-on: ubuntu-latest
    needs: run_tests
    steps:
      - name: Notify slack
        uses: gustavjorlov/slacker@1d17481
        with:
          message: "Yey, tests are passing!"
          slack-url: ${{secrets.SLACK_URL}}
